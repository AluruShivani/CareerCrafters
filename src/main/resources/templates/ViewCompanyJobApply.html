<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<meta charset="UTF-8">
<title>AddQuestion</title>

<head th:replace="header::header">
	<div th:include="title::title"></div>
	</head>

<body>
	<div th:replace="companymenu::companymenu"></div>
	
	<div class="container mt-4">
		<h2 class="text-center mb-4">Job Listings</h2>
		<div class="table-responsive">
			<table class="table custom-table">
				<thead class="custom-dark-table-head">
					<tr>
						<th>Jobseeker Name</th>
						<th>Email</th>
						<th>Qualifications</th>
						<th>Company Name</th>
						<th>Job Title</th>
						<th>Status</th>
						<th>Final Score</th>
						<th>Operation</th><!-- Added new column -->
					</tr>
				</thead>
				<tbody>
					<!-- Loop through job applications list -->
					<tr th:each="jobApply : ${JobApplyList}">
						<!-- Extracting data from JobApply object -->
						<td th:text="${jobApply.jobseekers.firstName + ' ' + jobApply.jobseekers.lastName}"></td>
						<td th:text="${jobApply.jobseekers.email}"></td>
						<td th:text="${jobApply.jobseekers.qualifications}"></td>
						<td th:text="${jobApply.vacancies.company.companyName}"></td>
						<td th:text="${jobApply.vacancies.jobTitle}"></td>
						<td th:text="${jobApply.status}"></td>
						<td th:text="${jobApply.finalScore}"></td>
						<!-- Button for selecting a candidate -->
						<td>
						
							<a th:href="@{/selectCandidate/{applyId}(applyId=${jobApply.applyId})}"
								class="btn btn-primary btn-sm btn-custom">Select Candidate</a>
						</td>
					</tr>
				</tbody>

			</table>
		</div>
	</div>

	<!-- Bootstrap JS (Optional) -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
	<script>
		// Dropdown hover effect
		document.querySelectorAll('.nav-item.dropdown').forEach(function (element) {
			element.addEventListener('mouseover', function () {
				this.querySelector('.dropdown-menu').classList.add('show');
			});
			element.addEventListener('mouseout', function () {
				this.querySelector('.dropdown-menu').classList.remove('show');
			});
		});
	</script>

	<script>
		$(document).ready(function () {
			// Initialize datepicker for date input fields
			$('#openDate, #closeDate, #postDate').datepicker({
				format: 'yyyy-mm-dd', // Change the format as per your requirement
				autoclose: true,
				todayHighlight: true,
				showOnFocus: false // Do not show the datepicker on focusing the input
			});

			// Show datepicker on hover
			$('#openDate, #closeDate, #postDate').on('mouseenter', function () {
				$(this).datepicker('show');
			});
		});
	</script>

</body>

</html>